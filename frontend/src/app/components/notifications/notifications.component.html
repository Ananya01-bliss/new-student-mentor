<div class="notifications-page">
    <header class="notifications-header">
        <div class="header-left">
            <button class="btn-back" (click)="router.navigate(['/student/dashboard'])">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="title-container">
                <h2>Accepted invitations</h2>
            </div>
        </div>
        <div class="actions">
            <button class="btn-clear" (click)="clearAll()" title="Clear all" *ngIf="notifications.length > 0">
                <i class="fas fa-trash-alt"></i>
            </button>
        </div>
    </header>

    <section class="notifications-list">
        <div *ngFor="let n of filteredNotifications" class="notification-item" [class.unread]="!n.read">
            <div class="item-content">
                <div class="avatar-container">
                    <img [src]="'https://ui-avatars.com/api/?name=' + (n.mentorName || 'User') + '&background=random'"
                        alt="avatar" class="avatar">
                </div>
                <div class="text-container">
                    <span class="notification-title">{{ n.title }}</span>
                    <p class="notification-body">{{ n.body }}</p>
                    <span class="notification-time">{{ n.timestamp | date:'shortTime' }}</span>
                </div>
            </div>
            <div class="item-actions">
                <button class="chat-toggle" (click)="goToChat(n.mentorId); markRead(n)" title="Chat">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <div *ngIf="filteredNotifications.length === 0" class="empty-state">
            <i class="fas fa-bell-slash"></i>
            <p>No new invitations accepted yet.</p>
        </div>
    </section>
</div>